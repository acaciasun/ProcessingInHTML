<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width; initial-scale=1.0">
        <meta name="author" content="孙战利，Tel: 18222288105，Email: sunzhanli@tju.edu.cn，798189346@qq.com">
        
        <title>我的作品</title>
        <style type="text/css">
            *{
                margin: 0;
                padding:0;
            }
			body{
				font-family:"微软雅黑",Verdana, Geneva, sans-serif;
				font-size:20px;
			}
			p,h2{
				margin:10px;	
			}
            #warp{
                margin: 0 auto;
            }
            #myCanvas{
                width:400px;
                height:400px;
                margin: 20px;
                float: left;
            }
            #div_introduction{
                margin:20px;
                float:left;
            }
        </style>
        <script src="processing-1.4.1.min.js"></script>
        <script>
            window.onload=function(){
                
                var processingCode = 'void setup() {size(200, 200);background(51);stroke(255);ellipse(50, 50, 25, 25);println("hello web!");}'; 
                var jsCode = Processing.compile(myProcessingCode.getMultiLine()).sourceCode;
                var sketchProc2=eval(jsCode);
    
                var canvas = document.getElementById("myCanvas");
                // attaching the sketchProc function to the canvas
                var processingInstance = new Processing(canvas, sketchProc2);            
            };
            Function.prototype.getMultiLine=function(){
                var lines = new String(this);  
                lines = lines.substring(lines.indexOf("/*") + 3, lines.lastIndexOf("*/"));  
                return lines;              
            };
            function myProcessingCode(){
                /*
                YinyangFish myYinyangFish;
                int windowSize=400;
                int fishSize=150;
                void setup(){
                 size(windowSize,windowSize); 
                 noStroke();
                 myYinyangFish=new YinyangFish(fishSize);
                }
                void draw(){
                  myYinyangFish.roll();
                }
                class YinyangFish{
                  float radius=100;
                  float angle=0;
                  YinyangFish(float radius){
                    this.radius=radius;
                  }  
                  //draw the yin-yang fish
                  void show(){
                    background(51);
                    translate(width/2,height/2);
                    rotate(angle);
                    fill(0);
                    arc(0,0,2*radius,2*radius,0,PI);
                    fill(255);
                    arc(0,0,2*radius,2*radius,PI,2*PI);
                    //arc(radius/2,0,radius,radius,0,PI);
                    ellipse(radius/2,0,radius,radius);
                    fill(0);
                    //arc(-radius/2,0,radius,radius,PI,2*PI);
                    ellipse(-radius/2,0,radius,radius);
                    ellipse(radius/2,0,radius/5,radius/5);
                    fill(255);
                    ellipse(-radius/2,0,radius/5,radius/5);
                  }
                  void roll(){
                    this.angle+=0.01*PI; 
                    this.show(); 
                  }
                }
                 */
            }
        </script>
    
    </head>

    <body>
        <div id="warp">
            <canvas id="myCanvas">
                <p>看不到转动的太极阴阳鱼？换较新版本的浏览器试试吧！</p>
                <p>如果您用的是IE浏览器，请至少更新到IE9</p>
            </canvas>
            <div id="div_introduction">
                <h2>作品介绍</h2>
                <p>名称：太极阴阳鱼图</p>
                <p>绘制技术：HTML5 Canvas, Processing.js</p>
                <p>作者：孙战利，天津大学</p>
                <p>Tel：18222288105</p>
                <p>Email：798189346@qq.com</p>
            </div>   
        </div>
    </body>
</html>
